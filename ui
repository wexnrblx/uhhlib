local UILib = {}

function UILib.CreateWindow(title)
    local ScreenGui = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    local UICorner = Instance.new("UICorner")
    local TabHolder = Instance.new("Frame")
    local UICornerTab = Instance.new("UICorner")
    local TabButtons = Instance.new("Frame")
    local UICornerTabButtons = Instance.new("UICorner")
    local UIListLayout = Instance.new("UIListLayout")

    -- Ebeveyn
    ScreenGui.Parent = game.CoreGui

    -- Ana Pencere
    MainFrame.Parent = ScreenGui
    MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    MainFrame.Size = UDim2.new(0, 450, 0, 300)
    MainFrame.Active = true
    MainFrame.Draggable = true

    UICorner.Parent = MainFrame

    -- Sekme Tutucu
    TabHolder.Parent = MainFrame
    TabHolder.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    TabHolder.Size = UDim2.new(1, 0, 0.85, 0)
    TabHolder.Position = UDim2.new(0, 0, 0.15, 0)

    UICornerTab.Parent = TabHolder

    -- Sekme Butonları Paneli
    TabButtons.Parent = MainFrame
    TabButtons.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    TabButtons.Size = UDim2.new(1, 0, 0.15, 0)

    UICornerTabButtons.Parent = TabButtons

    UIListLayout.Parent = TabButtons
    UIListLayout.FillDirection = Enum.FillDirection.Horizontal
    UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout.Padding = UDim.new(0, 5)

    local Tabs = {}

    function Tabs:AddTab(tabName)
        local Tab = Instance.new("ScrollingFrame")
        local Button = Instance.new("TextButton")
        local UIListLayoutTab = Instance.new("UIListLayout")

        -- Tab Butonu
        Button.Parent = TabButtons
        Button.Size = UDim2.new(0, 100, 1, 0)
        Button.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
        Button.Font = Enum.Font.GothamBold
        Button.Text = tabName
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.TextSize = 14

        -- Sekme İçeriği
        Tab.Parent = TabHolder
        Tab.Size = UDim2.new(1, 0, 1, 0)
        Tab.BackgroundTransparency = 1
        Tab.CanvasSize = UDim2.new(0, 0, 0, 0)
        Tab.ScrollBarThickness = 5
        Tab.Visible = false

        UIListLayoutTab.Parent = Tab
        UIListLayoutTab.SortOrder = Enum.SortOrder.LayoutOrder
        UIListLayoutTab.Padding = UDim.new(0, 5)

        -- Sekmeye Tıklayınca Açılma
        Button.MouseButton1Click:Connect(function()
            for _, child in pairs(TabHolder:GetChildren()) do
                if child:IsA("ScrollingFrame") then
                    child.Visible = false
                end
            end
            Tab.Visible = true
        end)

        local Section = {}
        function Section:AddButton(btnText, callback)
            local Button = Instance.new("TextButton")
            local UICornerButton = Instance.new("UICorner")

            Button.Parent = Tab
            Button.Size = UDim2.new(0.9, 0, 0, 40)
            Button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            Button.Font = Enum.Font.GothamBold
            Button.Text = btnText
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.TextSize = 14

            UICornerButton.Parent = Button

            Button.MouseButton1Click:Connect(callback)
        end

        return Section
    end

    return Tabs
end

return UILib
