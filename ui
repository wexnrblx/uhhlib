local UILib = {}

function UILib.CreateWindow(title)
    local ScreenGui = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    local UICorner = Instance.new("UICorner")
    local TabHolder = Instance.new("Frame")
    local TabButtons = Instance.new("Frame")
    local TabContent = Instance.new("Frame")
    local UICornerTabButtons = Instance.new("UICorner")
    local UIListLayout = Instance.new("UIListLayout")
    local UIListLayoutContent = Instance.new("UIListLayout")

    -- GUI Ana Yapısı
    ScreenGui.Parent = game.CoreGui
    MainFrame.Parent = ScreenGui
    MainFrame.Size = UDim2.new(0, 600, 0, 350)
    MainFrame.Position = UDim2.new(0.5, -300, 0.5, -175)
    MainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    MainFrame.Active = true
    MainFrame.Draggable = true
    UICorner.Parent = MainFrame

    -- Sekme Butonları Alanı (Solda)
    TabButtons.Parent = MainFrame
    TabButtons.Size = UDim2.new(0, 120, 1, 0)
    TabButtons.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    UICornerTabButtons.Parent = TabButtons
    UIListLayout.Parent = TabButtons
    UIListLayout.FillDirection = Enum.FillDirection.Vertical
    UIListLayout.Padding = UDim.new(0, 5)

    -- Sekme İçeriği Alanı (Sağda)
    TabContent.Parent = MainFrame
    TabContent.Size = UDim2.new(1, -120, 1, 0)
    TabContent.Position = UDim2.new(0, 120, 0, 0)
    TabContent.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    UICorner.Parent = TabContent
    UIListLayoutContent.Parent = TabContent
    UIListLayoutContent.FillDirection = Enum.FillDirection.Vertical
    UIListLayoutContent.Padding = UDim.new(0, 5)

    -- Sekme Sistemi
    local Tabs = {}

    function Tabs:AddTab(tabName)
        local Tab = Instance.new("ScrollingFrame")
        local Button = Instance.new("TextButton")
        local UIListLayoutTab = Instance.new("UIListLayout")

        -- Sekme Butonu
        Button.Parent = TabButtons
        Button.Size = UDim2.new(1, 0, 0, 40)
        Button.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        Button.Text = tabName
        Button.Font = Enum.Font.GothamBold
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.TextSize = 14
        Button.TextButtonMode = Enum.TextButtonMode.ContextMenu
        Button.AutoButtonColor = false

        -- Sekme İçeriği
        Tab.Parent = TabContent
        Tab.Size = UDim2.new(1, 0, 1, 0)
        Tab.BackgroundTransparency = 1
        Tab.Visible = false
        Tab.ScrollBarThickness = 5
        UIListLayoutTab.Parent = Tab

        -- Sekmeye Tıklama İşlemi
        Button.MouseButton1Click:Connect(function()
            for _, child in pairs(TabContent:GetChildren()) do
                if child:IsA("ScrollingFrame") then
                    child.Visible = false
                end
            end
            Tab.Visible = true
        end)

        local Section = {}
        function Section:AddButton(btnText, callback)
            local Button = Instance.new("TextButton")
            local UICornerButton = Instance.new("UICorner")

            Button.Parent = Tab
            Button.Size = UDim2.new(0.9, 0, 0, 40)
            Button.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
            Button.Font = Enum.Font.GothamBold
            Button.Text = btnText
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.TextSize = 14

            UICornerButton.Parent = Button

            Button.MouseButton1Click:Connect(callback)
        end

        return Section
    end

    -- Başlangıçta ilk sekmeyi göster
    function Tabs:SelectTab(tabName)
        for _, button in pairs(TabButtons:GetChildren()) do
            if button:IsA("TextButton") then
                if button.Text == tabName then
                    button.MouseButton1Click:Fire()
                end
            end
        end
    end

    return Tabs
end

return UILib
