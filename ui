local UILib = {}

function UILib.CreateWindow(title)
    -- GUI Yapısı
    local ScreenGui = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    local TopBar = Instance.new("Frame")
    local UICorner = Instance.new("UICorner")
    local TabHolder = Instance.new("Frame")
    local TabButtons = Instance.new("Frame")
    local TabContent = Instance.new("Frame")
    local UICornerTabButtons = Instance.new("UICorner")
    local UIListLayout = Instance.new("UIListLayout")
    local UIListLayoutContent = Instance.new("UIListLayout")
    local TabList = {}

    -- GUI Ana Yapısı
    ScreenGui.Parent = game.CoreGui
    MainFrame.Parent = ScreenGui
    MainFrame.Size = UDim2.new(0, 600, 0, 350)
    MainFrame.Position = UDim2.new(0.5, -300, 0.5, -175)
    MainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    MainFrame.Active = true
    MainFrame.Draggable = true
    UICorner.Parent = MainFrame

    -- Üst Bar
    TopBar.Parent = MainFrame
    TopBar.Size = UDim2.new(1, 0, 0, 40)
    TopBar.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
    UICorner.Parent = TopBar

    local Title = Instance.new("TextLabel")
    Title.Parent = TopBar
    Title.Text = title
    Title.Size = UDim2.new(1, -100, 1, 0)
    Title.BackgroundTransparency = 1
    Title.Font = Enum.Font.GothamBold
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.TextSize = 18
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.TextYAlignment = Enum.TextYAlignment.Center

    -- Sekme Butonları Alanı (Solda)
    TabButtons.Parent = MainFrame
    TabButtons.Size = UDim2.new(0, 120, 1, 0)
    TabButtons.Position = UDim2.new(0, 0, 0, 40)
    TabButtons.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    UICornerTabButtons.Parent = TabButtons
    UIListLayout.Parent = TabButtons
    UIListLayout.FillDirection = Enum.FillDirection.Vertical
    UIListLayout.Padding = UDim.new(0, 5)

    -- Sekme İçeriği Alanı (Sağda)
    TabContent.Parent = MainFrame
    TabContent.Size = UDim2.new(1, -120, 1, -40)
    TabContent.Position = UDim2.new(0, 120, 0, 40)
    TabContent.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    UICorner.Parent = TabContent
    UIListLayoutContent.Parent = TabContent
    UIListLayoutContent.FillDirection = Enum.FillDirection.Vertical
    UIListLayoutContent.Padding = UDim.new(0, 5)

    -- Sekme Sistemi
    function UILib.AddTab(tabName)
        local TabButton = Instance.new("TextButton")
        local TabContentFrame = Instance.new("Frame")
        local UICornerButton = Instance.new("UICorner")

        -- Sekme Butonu
        TabButton.Parent = TabButtons
        TabButton.Size = UDim2.new(1, 0, 0, 40)
        TabButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        TabButton.Text = tabName
        TabButton.Font = Enum.Font.GothamBold
        TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        TabButton.TextSize = 14
        TabButton.TextButtonMode = Enum.TextButtonMode.ContextMenu
        TabButton.AutoButtonColor = false

        UICornerButton.Parent = TabButton

        -- Sekme İçeriği
        TabContentFrame.Parent = TabContent
        TabContentFrame.Size = UDim2.new(1, 0, 1, 0)
        TabContentFrame.BackgroundTransparency = 1
        TabContentFrame.Visible = false

        -- Sekmeye Tıklama İşlemi
        TabButton.MouseButton1Click:Connect(function()
            for _, frame in pairs(TabContent:GetChildren()) do
                if frame:IsA("Frame") then
                    frame.Visible = false
                end
            end
            TabContentFrame.Visible = true
        end)

        -- TabList'e Ekle
        table.insert(TabList, {Button = TabButton, Content = TabContentFrame})

        -- İçerik Ekleme Fonksiyonu
        function TabContentFrame:AddButton(buttonText, callback)
            local Button = Instance.new("TextButton")
            local UICornerBtn = Instance.new("UICorner")

            Button.Parent = TabContentFrame
            Button.Size = UDim2.new(1, -20, 0, 40)
            Button.Position = UDim2.new(0, 10, 0, 10)
            Button.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
            Button.Text = buttonText
            Button.Font = Enum.Font.GothamBold
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.TextSize = 14

            UICornerBtn.Parent = Button

            Button.MouseButton1Click:Connect(callback)
        end

        return TabContentFrame
    end

    return UILib
end

return UILib
