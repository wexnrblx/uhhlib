local UILib = {}

function UILib.CreateWindow(title)
    local ScreenGui = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    local UICorner = Instance.new("UICorner")
    local TabHolder = Instance.new("Frame")
    local UICornerTab = Instance.new("UICorner")
    local TabButtons = Instance.new("Frame")
    local UICornerTabButtons = Instance.new("UICorner")
    local UIListLayout = Instance.new("UIListLayout")

    -- GUI Ana Yapısı
    ScreenGui.Parent = game.CoreGui
    MainFrame.Parent = ScreenGui
    MainFrame.Size = UDim2.new(0, 450, 0, 300)
    MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    MainFrame.Active = true
    MainFrame.Draggable = true
    UICorner.Parent = MainFrame

    -- Sekme Alanı
    TabHolder.Parent = MainFrame
    TabHolder.Size = UDim2.new(1, 0, 0.85, 0)
    TabHolder.Position = UDim2.new(0, 0, 0.15, 0)
    TabHolder.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    UICornerTab.Parent = TabHolder

    -- Sekme Butonları Alanı
    TabButtons.Parent = MainFrame
    TabButtons.Size = UDim2.new(1, 0, 0.15, 0)
    TabButtons.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    UICornerTabButtons.Parent = TabButtons
    UIListLayout.Parent = TabButtons
    UIListLayout.FillDirection = Enum.FillDirection.Horizontal
    UIListLayout.Padding = UDim.new(0, 5)

    -- Sekme Sistemi
    local Tabs = {}

    function Tabs:AddTab(tabName)
        local Tab = Instance.new("ScrollingFrame")
        local Button = Instance.new("TextButton")
        local UIListLayoutTab = Instance.new("UIListLayout")

        -- Sekme Butonu
        Button.Parent = TabButtons
        Button.Size = UDim2.new(0, 100, 1, 0)
        Button.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
        Button.Text = tabName
        Button.Font = Enum.Font.GothamBold
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.TextSize = 14

        -- Sekme İçeriği
        Tab.Parent = TabHolder
        Tab.Size = UDim2.new(1, 0, 1, 0)
        Tab.BackgroundTransparency = 1
        Tab.CanvasSize = UDim2.new(0, 0, 0, 0)
        Tab.ScrollBarThickness = 5
        Tab.Visible = false
        UIListLayoutTab.Parent = Tab

        -- Sekmeye Tıklama İşlemi
        Button.MouseButton1Click:Connect(function()
            for _, child in pairs(TabHolder:GetChildren()) do
                if child:IsA("ScrollingFrame") then
                    child.Visible = false
                end
            end
            Tab.Visible = true
        end)

        local Section = {}
        function Section:AddButton(btnText, callback)
            local Button = Instance.new("TextButton")
            local UICornerButton = Instance.new("UICorner")

            Button.Parent = Tab
            Button.Size = UDim2.new(0.9, 0, 0, 40)
            Button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            Button.Font = Enum.Font.GothamBold
            Button.Text = btnText
            Button.TextColor3 = Color3.fromRGB(255, 255, 255)
            Button.TextSize = 14

            UICornerButton.Parent = Button

            Button.MouseButton1Click:Connect(callback)
        end

        return Section
    end

    return Tabs  -- ✅ HATA BURADAYDI, "Tabs" return edilmezse çağrılamaz!
end

return UILib
